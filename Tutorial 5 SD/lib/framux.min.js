window.d$=window.domux=domux=function(a){return new domux.find(a)};var domux={version:"0.0.1",arr:[],find:function(a){if(a.indexOf("#")==0){return domux.id(a.substring(1,a.length))}else{return domux.tag(a)}},id:function(a){domux.arr=new Array();domux.arr.push(document.getElementById(a));return domux},tag:function(b){domux.arr=new Array();var a=document.getElementsByTagName(b);for(i=0;i<a.length;i++){domux.arr.push(a.item(i))}return domux},outer:function(a){for(i=0;i<domux.arr.length;i++){domux.arr[i].outerHTML=a}return domux},inner:function(a){for(i=0;i<domux.arr.length;i++){domux.arr[i].innerHTML=a}return domux},top:function(a){for(i=0;i<domux.arr.length;i++){domux.arr[i].innerHTML=domux.arr[i].innerHTML+a}return domux},bottom:function(a){for(i=0;i<domux.arr.length;i++){domux.arr[i].innerHTML=a+domux.arr[i].innerHTML}return domux},after:function(a){for(i=0;i<domux.arr.length;i++){domux.arr[i].outerHTML=domux.arr[i].outerHTML+a}return domux},before:function(a){for(i=0;i<domux.arr.length;i++){domux.arr[i].outerHTML=a+domux.arr[i].outerHTML}return domux},update:function(b){for(i=0;i<domux.arr.length;i++){var a=domux.arr[i].innerHTML;domux.arr[i].outerHTML=b;domux.arr[i].innerHTML=a}return domux},toStr:function(){var a="";for(i=0;i<domux.arr.length;i++){a+=domux.arr[i].innerHTML}return a},html:function(a,b){if(a==null){return domux.toStr()}if(b==null){position="inner"}if(b==="outer"){return domux.outer(a)}else{if(b==="inner"){return domux.inner(a)}else{if(b==="top"){return domux.top(a)}else{if(b==="bottom"){return domux.bottom(a)}else{if(b==="after"){return domux.after(a)}else{if(b==="before"){return domux.before(a)}else{if(b==="update"){return domux.update(a)}else{return domux}}}}}}}}};(function(){var doT={version:"0.2.0",templateSettings:{evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:true,append:true,selfcontained:false},template:undefined,compile:undefined};var global=(function(){return this||(0,eval)("this")}());if(typeof module!=="undefined"&&module.exports){module.exports=doT}else{if(typeof define==="function"&&define.amd){define(function(){return doT})}else{global.doT=doT}}function encodeHTMLSource(){var encodeHTMLRules={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},matchHTML=/&(?!#?\w+;)|<|>|"|'|\//g;return function(code){return code?code.toString().replace(matchHTML,function(m){return encodeHTMLRules[m]||m}):code}}global.encodeHTML=encodeHTMLSource();var startend={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},skip=/$^/;function resolveDefs(c,block,def){return((typeof block==="string")?block:block.toString()).replace(c.define||skip,function(m,code,assign,value){if(code.indexOf("def.")===0){code=code.substring(4)}if(!(code in def)){if(assign===":"){def[code]=value}else{eval("def['"+code+"']="+value)}}return""}).replace(c.use||skip,function(m,code){var v=eval(code);return v?resolveDefs(c,v,def):v})}function unescape(code){return code.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}doT.template=function(tmpl,c,def){c=c||doT.templateSettings;var cse=c.append?startend.append:startend.split,str,needhtmlencode,sid=0,indv;if(c.use||c.define){var olddef=global.def;global.def=def||{};str=resolveDefs(c,tmpl,global.def);global.def=olddef}else{str=tmpl}str=("var out='"+(c.strip?str.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):str).replace(/'|\\/g,"\\$&").replace(c.interpolate||skip,function(m,code){return cse.start+unescape(code)+cse.end}).replace(c.encode||skip,function(m,code){needhtmlencode=true;return cse.startencode+unescape(code)+cse.end}).replace(c.conditional||skip,function(m,elsecase,code){return elsecase?(code?"';}else if("+unescape(code)+"){out+='":"';}else{out+='"):(code?"';if("+unescape(code)+"){out+='":"';}out+='")}).replace(c.iterate||skip,function(m,iterate,vname,iname){if(!iterate){return"';} } out+='"}sid+=1;indv=iname||"i"+sid;iterate=unescape(iterate);return"';var arr"+sid+"="+iterate+";if(arr"+sid+"){var "+vname+","+indv+"=-1,l"+sid+"=arr"+sid+".length-1;while("+indv+"<l"+sid+"){"+vname+"=arr"+sid+"["+indv+"+=1];out+='"}).replace(c.evaluate||skip,function(m,code){return"';"+unescape(code)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|}|^|{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|}|^|{)out\+=''\+/g,"$1out+=");if(needhtmlencode&&c.selfcontained){str="var encodeHTML=("+encodeHTMLSource.toString()+"());"+str}try{return new Function(c.varname,str)}catch(e){if(typeof console!=="undefined"){console.log("Could not create a template function: "+str)}throw e}};doT.compile=function(tmpl,def){return doT.template(tmpl,null,def)}}());var xhr=function(a,j,h,g,c,f){try{if(h==null){h="GET"}var b=(j!=null);if(window.XMLHttpRequest){xhttp=new XMLHttpRequest()}else{xhttp=new ActiveXObject("Microsoft.XMLHTTP")}xhttp.open(h,a,b);if(b){xhttp.onreadystatechange=function(){if(xhttp.readyState==4){j(xhttp.responseText)}}}if(c&&xhttp.overrideMimeType){xhttp.overrideMimeType(c)}if(c){xhttp.setRequestHeader("Accept",c)}if(f){for(i=0;i<f.length;i++){xhttp.setRequestHeader(f[i].header,f[i].value)}}if(g!=null){xhttp.setRequestHeader("Content-type","text/xml");xhttp.setRequestHeader("Content-length",g.length);xhttp.setRequestHeader("Connection","close")}xhttp.send(g);if(!b){return xhttp.responseText}}catch(d){if(typeof console==="undefined"||typeof console.log==="undefined"){}else{console.log("Error opening "+a+": "+d.message)}}};
/*!
* Routie - A tiny javascript hash router
* v0.2.3
* https://github.com/jgallen23/routie
* copyright JGA 2012
* MIT License
*/
(function(j){var k=[];var a={};var f=function(m,l){this.name=l;this.path=m;this.keys=[];this.fns=[];this.params={};this.regex=c(this.path,this.keys,false,false)};f.prototype.addHandler=function(l){this.fns.push(l);var m=d();e(m,this)};f.prototype.removeHandler=function(m){for(var l=0,o=this.fns.length;l<o;l++){var n=this.fns[l];if(m==n){this.fns.splice(l,1);return}}};f.prototype.run=function(m){for(var l=0,n=this.fns.length;l<n;l++){this.fns[l].apply(this,m)}};f.prototype.match=function(q,s){var n=this.regex.exec(q);if(!n){return false}for(var p=1,l=n.length;p<l;++p){var o=this.keys[p-1];var r=("string"==typeof n[p])?decodeURIComponent(n[p]):n[p];if(o){this.params[o.name]=r}s.push(r)}return true};f.prototype.toURL=function(n){var l=this.path;for(var m in n){l=l.replace("/:"+m,"/"+n[m])}l=l.replace(/\/:.*\?/g,"/").replace(/\?/g,"");if(l.indexOf(":")!=-1){throw new Error("missing parameters for url: "+l)}return l};var c=function(o,n,m,l){if(o instanceof RegExp){return o}if(o instanceof Array){o="("+o.join("|")+")"}o=o.concat(l?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(r,t,u,s,p,q){n.push({name:s,optional:!!q});t=t||"";return""+(q?"":t)+"(?:"+(q?t:"")+(u||"")+(p||(u&&"([^/.]+?)"||"([^/]+?)"))+")"+(q||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)");return new RegExp("^"+o+"$",m?"":"i")};var h=function(o,n){var m=o.split(" ");var l=(m.length==2)?m[0]:null;o=(m.length==2)?m[1]:m[0];if(!a[o]){a[o]=new f(o,l);k.push(a[o])}a[o].addHandler(n)};var b=function(n,l){if(typeof l=="function"){h(n,l)}else{if(typeof n=="object"){for(var m in n){h(m,n[m])}}else{if(typeof l==="undefined"){window.location.hash=n}}}};b.lookup=function(m,o){for(var n=0,p=k.length;n<p;n++){var l=k[n];if(l.name==m){return l.toURL(o)}}};b.remove=function(n,m){var l=a[n];if(!l){return}l.removeHandler(m)};b.removeAll=function(){a={};k=[]};var d=function(){return window.location.hash.substring(1)};var e=function(m,l){var n=[];if(l.match(m,n)){l.run(n);return true}return false};var g=function(){var n=d();for(var m=0,o=k.length;m<o;m++){var l=k[m];if(e(n,l)){return}}};if(j.addEventListener){j.addEventListener("hashchange",g)}else{j.attachEvent("onhashchange",g)}j.routie=b})(window);
/*!
 * onDomReady.js 1.2 (c) 2012 Tubal Martin - MIT license
 */
!function(a){if(typeof define==="function"&&define.amd){define(a)}else{window.onDomReady=a()}}(function(){var d=window,v=d.document,r=v.documentElement,p=false,l="complete",t="readyState",g="attachEvent",m="addEventListener",k="DOMContentLoaded",s="onreadystatechange",a=m in v,j=p,n=p,u=[];function h(e){if(!n){if(!v.body){return c(h)}n=true;while(e=u.shift()){c(e)}}}function o(){if(a){v.removeEventListener(k,o,p);h()}else{if(v[t]===l){v.detachEvent(s,o);h()}}}function c(e,w){setTimeout(e,+w>=0?w:1)}if(v[t]===l){c(h)}else{if(a){v[m](k,o,p);d[m]("load",h,p)}else{v[g](s,o);d[g]("onload",h);try{j=d.frameElement==null&&r}catch(q){}if(j&&j.doScroll){(function b(){if(!n){try{j.doScroll("left")}catch(w){return c(b,50)}h()}})()}}}function f(e){n?c(e):u.push(e)}f.version="1.2";return f});var $global={};var framux={varname:"$",version:"0.0.3",current:null,templates:{},controllers:{},call:function(a,b){framux.controllers[a.controller].params=b;framux.current=framux.controllers[a.controller];window[a.controller].call(this,a.bindings,b)},go:function(a){onDomReady(function(){routie(a)});return framux},route:function(a,b){doT.templateSettings.varname=framux.varname;onDomReady(function(){if(typeof b.bindings==="undefined"){b.bindings={}}if(typeof b.location==="undefined"){b.location="inner"}if(typeof b.template==="undefined"){framux.templates[b.controller]=function(c){return""}}framux.controllers[b.controller]=b;routie(a,function(){var c=arguments;if(typeof framux.templates[b.controller]==="undefined"){xhr(b.template,function(d){framux.templates[b.controller]=doT.template(d);framux.call(b,c)})}else{framux.call(b,c)}})});return framux},bind:function(a,e){if(a.indexOf(framux.varname)!=0){return}var d=a.split(".");var c=framux.current.bindings;var b=1;for(;b<d.length-1;b++){c=c[d[b]]}c[d[b]]=e.value;framux.render()},render:function(){var b=framux.templates[framux.current.controller];var c=framux.current.bindings;var a=framux.current.location;d$(framux.current.selector).html(b(c),a)}};